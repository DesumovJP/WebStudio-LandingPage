# üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è Content Types –º—ñ–∂ –ª–æ–∫–∞–ª—å–Ω–æ—é —Ç–∞ Production –ë–î

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–ö–æ–ª–∏ —É –≤–∞—Å:
- **–õ–æ–∫–∞–ª—å–Ω–æ**: –æ–¥–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (SQLite –∞–±–æ –ª–æ–∫–∞–ª—å–Ω–∏–π PostgreSQL)
- **Production (Railway)**: —ñ–Ω—à–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (PostgreSQL)

Strapi –º–æ–∂–µ "–æ–±–Ω—É–ª—è—Ç–∏—Å—è" –ø—Ä–∏ –¥–µ–ø–ª–æ—ó, —Ç–æ–º—É —â–æ:
1. Content types –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î
2. Production –ë–î –ø–æ—Ä–æ–∂–Ω—è –∞–±–æ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∞
3. –§–∞–π–ª–∏ `schema.json` –Ω–µ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ –≤ git

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π Workflow

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å Collection Type –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd backend
npm run develop
```

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:1337/admin`
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π Collection Type —á–µ—Ä–µ–∑ Content-Type Builder
3. **–í–∞–∂–ª–∏–≤–æ**: –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Strapi –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ñ–∞–π–ª–∏ `schema.json`

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ñ–∞–π–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –∑'—è–≤–∏–ª–∏—Å—è —Ñ–∞–π–ª–∏
ls -la backend/src/api/[collection-name]/content-types/[collection-name]/schema.json
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—î –±—É—Ç–∏:**
```
backend/src/api/[collection-name]/
‚îú‚îÄ‚îÄ content-types/
‚îÇ   ‚îî‚îÄ‚îÄ [collection-name]/
‚îÇ       ‚îî‚îÄ‚îÄ schema.json          # ‚Üê –¶–ï –ú–ê–Ñ –ë–£–¢–ò –í GIT!
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îî‚îÄ‚îÄ [collection-name].ts
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ [collection-name].ts
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ [collection-name].ts
```

### –ö—Ä–æ–∫ 3: –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ —Ñ–∞–π–ª–∏ –≤ Git

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ñ–∞–π–ª–∏ –¥–æ–¥–∞–Ω—ñ
git status

# –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ –Ω–æ–≤—ñ —Ñ–∞–π–ª–∏
git add backend/src/api/

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ schema.json –≤–∫–ª—é—á–µ–Ω–∏–π
git status | grep schema.json

# –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ
git commit -m "Add collection type: [–Ω–∞–∑–≤–∞]"

# –ó–∞–ø—É—à—Ç–µ
git push origin master
```

### –ö—Ä–æ–∫ 4: Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Å—Ç–æ—Å—É—î –∑–º—ñ–Ω–∏

–ö–æ–ª–∏ Railway –¥–µ–ø–ª–æ—ó—Ç—å:
1. –í—ñ–Ω –ø—Ä–æ—á–∏—Ç–∞—î —Ñ–∞–π–ª–∏ `schema.json` –∑ git
2. –ó–∞—Å—Ç–æ—Å—É—î —ó—Ö –¥–æ production –ë–î
3. –°—Ç–≤–æ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ PostgreSQL

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: –ß–∏ —Ñ–∞–π–ª–∏ –≤ Git?

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ schema.json —Ñ–∞–π–ª–∏ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ
git ls-files | grep schema.json

# –Ø–∫—â–æ –Ω–µ–º–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ - —Ñ–∞–π–ª–∏ –Ω–µ –≤ git!
```

---

## üõ†Ô∏è –Ø–∫—â–æ —Ñ–∞–π–ª–∏ –ù–ï –≤ Git (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –î–æ–¥–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Ñ–∞–π–ª–∏

```bash
# –ó–Ω–∞–π–¥—ñ—Ç—å –≤—Å—ñ schema.json —Ñ–∞–π–ª–∏
find backend/src/api -name "schema.json"

# –î–æ–¥–∞–π—Ç–µ —ó—Ö –≤ git
git add backend/src/api/**/schema.json

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ .gitignore (–Ω–µ –ø–æ–≤–∏–Ω–µ–Ω —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ src/api/)
cat backend/.gitignore | grep -E "(api|schema)"

# –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ
git commit -m "Add missing schema.json files"
git push origin master
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Ä—É—á–Ω—É

–Ø–∫—â–æ —Ñ–∞–π–ª–∏ –Ω–µ —Å—Ç–≤–æ—Ä–∏–ª–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, —Å—Ç–≤–æ—Ä—ñ—Ç—å —ó—Ö –≤—Ä—É—á–Ω—É (–¥–∏–≤. `HOW_TO_CREATE_COLLECTION_TYPE.md`)

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .gitignore

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `.gitignore` **–ù–ï** —ñ–≥–Ω–æ—Ä—É—î `src/api/`:

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ .gitignore
cat backend/.gitignore

# –ú–∞—î –±—É—Ç–∏ —â–æ—Å—å —Ç–∏–ø—É:
# node_modules/
# .env
# build/
# dist/
# .tmp/

# –ù–ï –º–∞—î –±—É—Ç–∏:
# src/api/  ‚Üê –Ø–∫—â–æ —Ü–µ —î, –≤–∏–¥–∞–ª—ñ—Ç—å!
```

---

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —ñ—Å–Ω—É—é—á–∏—Ö Content Types

–Ø–∫—â–æ —É –≤–∞—Å –≤–∂–µ —î content types –ª–æ–∫–∞–ª—å–Ω–æ, –∞–ª–µ –≤–æ–Ω–∏ –Ω–µ –Ω–∞ production:

### –ö—Ä–æ–∫ 1: –ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd backend

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å Strapi –ª–æ–∫–∞–ª—å–Ω–æ
npm run develop

# –í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª–∏
find src/api -name "schema.json" -type f
```

### –ö—Ä–æ–∫ 2: –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤ Git

```bash
# –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ schema.json —Ñ–∞–π–ª–∏
git add backend/src/api/**/schema.json
git add backend/src/api/**/*.ts

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ
git status

# –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ
git commit -m "Sync all content types to production"
git push origin master
```

### –ö—Ä–æ–∫ 3: Railway –∑–∞—Å—Ç–æ—Å—É—î –∑–º—ñ–Ω–∏

–ü—ñ—Å–ª—è push Railway:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Strapi
2. –ü—Ä–æ—á–∏—Ç–∞—î –≤—Å—ñ `schema.json` —Ñ–∞–π–ª–∏
3. –ó–∞—Å—Ç–æ—Å—É—î —ó—Ö –¥–æ production –ë–î
4. –°—Ç–≤–æ—Ä–∏—Ç—å –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ

---

## üö® –í–∞–∂–ª–∏–≤–æ: APP_KEYS

**–ü—Ä–æ–±–ª–µ–º–∞**: –Ø–∫—â–æ `APP_KEYS` —Ä—ñ–∑–Ω—ñ –º—ñ–∂ –ª–æ–∫–∞–ª—å–Ω–æ—é —Ç–∞ production, Strapi –º–æ–∂–µ –≤–≤–∞–∂–∞—Ç–∏ —Ü–µ —Ä—ñ–∑–Ω–∏–º–∏ —ñ–Ω—Å—Ç–∞–Ω—Å–∞–º–∏.

**–†—ñ—à–µ–Ω–Ω—è**:
1. **–í–∞—Ä—ñ–∞–Ω—Ç A**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–æ–¥–Ω–∞–∫–æ–≤—ñ** `APP_KEYS` (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ –¥–ª—è production)
2. **–í–∞—Ä—ñ–∞–Ω—Ç B**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **—Ä—ñ–∑–Ω—ñ** `APP_KEYS`, –∞–ª–µ –∑–∞–≤–∂–¥–∏ –∫–æ–º—ñ—Ç—å—Ç–µ `schema.json` —Ñ–∞–π–ª–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ `APP_KEYS`, –∞–ª–µ –∑–∞–≤–∂–¥–∏ –∫–æ–º—ñ—Ç—å—Ç–µ —Ñ–∞–π–ª–∏ `schema.json` –≤ git.

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ Collection Type

- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Content-Type Builder
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ, —â–æ `schema.json` —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ
- [ ] –§–∞–π–ª –¥–æ–¥–∞–Ω–æ –≤ git (`git add`)
- [ ] –ó–∞–∫–æ–º—ñ—á–µ–Ω–æ (`git commit`)
- [ ] –ó–∞–ø—É—à–µ–Ω–æ (`git push`)
- [ ] Railway –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤—Å—è
- [ ] Collection type –∑'—è–≤–∏–≤—Å—è –≤ production –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ Permissions (Public role ‚Üí find, findOne)

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Collection Type –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è –Ω–∞ production

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. –ß–∏ —Ñ–∞–π–ª `schema.json` –≤ git?
   ```bash
   git ls-files | grep schema.json
   ```

2. –ß–∏ Railway –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤—Å—è –ø—ñ—Å–ª—è push?
   - Railway ‚Üí Deployments ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Å—Ç–∞–Ω–Ω—ñ–π deploy

3. –ß–∏ —î –ø–æ–º–∏–ª–∫–∏ –≤ Railway logs?
   - Railway ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Deployments ‚Üí View Logs

4. –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ Permissions?
   - Strapi Admin ‚Üí Settings ‚Üí Users & Permissions ‚Üí Roles ‚Üí Public

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω—ñ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è

**–í–∞–∂–ª–∏–≤–æ**: –¶–µ–π workflow —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î **—Å—Ç—Ä—É–∫—Ç—É—Ä—É** (content types), –∞–ª–µ **–ù–ï** –¥–∞–Ω—ñ (entries).

–î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö:
1. –°—Ç–≤–æ—Ä—é–π—Ç–µ entries –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ production –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Strapi Import/Export
3. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ API –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö

---

## üìù –ü—ñ–¥—Å—É–º–æ–∫

**–ì–æ–ª–æ–≤–Ω–µ –ø—Ä–∞–≤–∏–ª–æ**: 
> –ó–∞–≤–∂–¥–∏ –∫–æ–º—ñ—Ç—å—Ç–µ —Ñ–∞–π–ª–∏ `schema.json` –≤ git –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è collection type –ª–æ–∫–∞–ª—å–Ω–æ.

**Workflow**:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí 2. –ó–∞–∫–æ–º—ñ—Ç–∏—Ç–∏ —Ñ–∞–π–ª–∏ ‚Üí 3. –ó–∞–ø—É—à–∏—Ç–∏ ‚Üí 4. Railway –∑–∞—Å—Ç–æ—Å—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

